<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.trainspotting.stocker.mapper.ArticleMapper">

	<insert id="insert" useGeneratedKeys="true" keyProperty="id" >
		INSERT INTO t_article
		(author_id, title, caption, file_nm)
		VALUES
		(#{author_id}, #{title}, #{caption}, #{file_nm})
	</insert>
	
	<insert id="insertArticleTag" parameterType="java.util.List">
		INSERT INTO t_article_tag 
		(article_id, tag_id)
		VALUES
		<foreach collection="list" item="item" separator=", ">
			(#{item.article_id}, ${item.tag_id})
		</foreach>
	</insert>
</mapper>